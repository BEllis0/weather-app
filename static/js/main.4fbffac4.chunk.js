(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{13:function(e,t,a){e.exports=a(22)},18:function(e,t,a){},20:function(e,t,a){},22:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(5),s=a.n(r),c=(a(18),a(3)),o=a.n(c),u=a(6),l=a(10),m=a(7),d=a(8),h=a(11),p=a(9),v=a(1),y=a(12),g=(a(20),function(e){return i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"cards card-left"},i.a.createElement("h1",null,e.city,", ",e.country),i.a.createElement("h4",null,e.currentDate()),i.a.createElement("h5",{className:"card-padding"},i.a.createElement("img",{id:"weatherImg",src:e.icon})),"metric"===e.unit&&i.a.createElement("h1",{className:"card-padding"},Math.round(e.currentTemp),"\xb0C"),"imperial"===e.unit&&i.a.createElement("h1",{className:"card-padding"},Math.round(e.currentTemp),"\xb0F"),i.a.createElement("h4",{className:"card-padding"},e.weather),i.a.createElement("button",{className:"btn save-location-btn",onClick:e.displaySaved},i.a.createElement("span",{className:"plus-btn"},"+")," Save location")),i.a.createElement("div",{className:"cards card-flex card-right"},i.a.createElement("div",{className:"block"},i.a.createElement("div",{className:"inline"},i.a.createElement("div",{className:"card-col"},i.a.createElement("p",null,"SUNRISE"),i.a.createElement("h3",null,e.sunrise),i.a.createElement("p",null,"LOW"),"metric"===e.unit&&i.a.createElement("h3",null,Math.round(e.minTemp),"\xb0C"),"imperial"===e.unit&&i.a.createElement("h3",null,Math.round(e.minTemp),"\xb0F"),i.a.createElement("div",{className:"card-bottom"},i.a.createElement("p",null,"HUMIDITY"),i.a.createElement("p",null,"WIND SPEED"),i.a.createElement("p",null,"CLOUD COVERAGE"))),i.a.createElement("div",{className:"card-col"},i.a.createElement("p",null,"SUNSET"),i.a.createElement("h3",null,e.sunset),i.a.createElement("p",null,"HIGH"),"metric"===e.unit&&i.a.createElement("h3",null,Math.round(e.maxTemp),"\xb0C"),"imperial"===e.unit&&i.a.createElement("h3",null,Math.round(e.maxTemp),"\xb0C"),i.a.createElement("div",{className:"card-bottom"},i.a.createElement("h3",null,e.humidity,"%"),i.a.createElement("h3",null,e.wind),i.a.createElement("h3",null,e.clouds,"%")))))))}),C=function(e){return i.a.createElement("div",null,i.a.createElement("div",{className:"header"},i.a.createElement("h1",{id:"Title"},"Weather App"),i.a.createElement("button",{id:"getLocalBtn",onClick:e.geolocate},"Get Local Weather")),i.a.createElement("header",{id:"search-bar"},i.a.createElement("div",{id:"top-bar"},i.a.createElement("div",{className:"span"},i.a.createElement("form",{id:"input-form"},i.a.createElement("input",{id:"city",type:"text",placeholder:"City",value:e.userInputCity,onChange:e.handleCityChange}),i.a.createElement("input",{id:"country",type:"text",placeholder:"Country",maxLength:"2",value:e.userInputCountry,onChange:e.handleCountryChange})),i.a.createElement("button",{id:"getWeatherBtn",onClick:e.getWeather},"Get Weather")),i.a.createElement("div",{className:"span"},i.a.createElement("button",{id:"metricToggle",onClick:e.metricToggle},"\xb0F / \xb0C")))))},E=function(){return i.a.createElement("div",{className:"pre-search"},i.a.createElement("h4",null,"Find weather information by using the search bar above, or click on 'get local weather' to see the weather in your area. ",i.a.createElement("br",null),i.a.createElement("br",null),"Weather information will be shown here."))},f=function(e){if(""!==e.name)return i.a.createElement("div",{className:"savedWeatherList"},i.a.createElement("p",{className:"savedItem",onClick:function(){return e.useSaved(e.name,e.country)}},e.name,", ",e.country),i.a.createElement("div",{className:"remove-saved-btn",onClick:function(){return e.removeSaved(e.name,e.country)}}))},b=(a(21),a(2)),w=a.n(b),S="https://api.openweathermap.org/data/2.5/weather?",T="32710cb36385401192dab72b89409cea",N=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(h.a)(this,Object(p.a)(t).call(this))).displaySaved=function(){e.setState({displaySaved:!0}),0===e.state.savedCities.length&&e.setState({savedCities:[{key:1,name:e.state.city,country:e.state.country}]}),e.state.savedCities.length>=1&&e.state.savedCities.length<=5&&e.state.savedCities[e.state.savedCities.length-1].name!==e.state.city&&e.setState((function(t){return{savedCities:[].concat(Object(l.a)(t.savedCities),[{key:e.state.savedCities[e.state.savedCities.length-1].key+1,name:e.state.city,country:e.state.country}])}})),w()((function(){w()(".container").css("margin-top","16px"),w()(".savedWeatherList").hover((function(){w()(".remove-saved-btn").html("-"),w()(".remove-saved-btn").addClass("removeOnHover")}),(function(){w()(".remove-saved-btn").html("").removeClass("removeOnHover")}))}))},e.currentDate=function(){return["Monday","Tuesday","Wednesday","Thursday","FRIDAY","Saturday","Sunday"][(new Date).getDay()-1]},e.convertDate=function(){var t=new Date(1e3*e.state.sunrise),a=t.getHours(),n=t.getMinutes(),i=new Date(1e3*e.state.sunset),r=i.getHours(),s=i.getMinutes();e.setState({sunrise:"".concat(a,":").concat(n),sunset:"".concat(r,":").concat(s)})},e.getWeather=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:fetch("".concat(S,"q=").concat(e.state.userInputCity,",").concat(e.state.userInputCountry,"&units=").concat(e.state.unit,"&appid=").concat(T)).then((function(e){return e.json()})).then((function(t){console.log(t);var a=t.name,n=t.sys.country,i=t.weather[0].main,r=t.main.temp,s=t.main.temp_max,c=t.main.temp_min,o=t.weather[0].icon,u=t.main.humidity,l=t.wind.speed,m=t.clouds.all,d=t.sys.sunrise,h=t.sys.sunset;e.setState({city:a,country:n,weatherDescription:i,currentTemp:r,maxTemp:s,minTemp:c,humidity:u,wind:l,clouds:m,sunrise:d,sunset:h,icon:"http://openweathermap.org/img/wn/".concat(o,"@2x.png")},(function(){return e.convertDate()}))})).catch((function(e){return console.log(e)}));case 1:case"end":return t.stop()}}),t)}))),e.state={unit:"metric",userInputCity:"",city:void 0,userInputCountry:"",country:void 0,weatherDescription:"",currentTemp:void 0,maxTemp:void 0,minTemp:void 0,humidity:void 0,wind:void 0,clouds:void 0,sunrise:void 0,sunset:void 0,icon:"",savedCities:[],displaySaved:!1},e.metricToggle=e.metricToggle.bind(Object(v.a)(e)),e.geolocate=e.geolocate.bind(Object(v.a)(e)),e.dispaySaved=e.displaySaved.bind(Object(v.a)(e)),e.useSaved=e.useSaved.bind(Object(v.a)(e)),e.removeSaved=e.removeSaved.bind(Object(v.a)(e)),e.handleCityChange=e.handleCityChange.bind(Object(v.a)(e)),e.handleCountryChange=e.handleCountryChange.bind(Object(v.a)(e)),e}return Object(y.a)(t,e),Object(d.a)(t,[{key:"removeSaved",value:function(e,t){var a=this.state.savedCities.filter((function(t){return t.name!==e}));this.setState({savedCities:a}),1===this.state.savedCities.length&&w()(".container").css("margin-top","100px")}},{key:"useSaved",value:function(e,t){var a=this;console.log(e,t),this.setState((function(a,n){return{userInputCity:e,userInputCountry:t}}),(function(){return a.getWeather()}))}},{key:"handleCityChange",value:function(e){this.setState({userInputCity:e.target.value})}},{key:"handleCountryChange",value:function(e){this.setState({userInputCountry:e.target.value})}},{key:"metricToggle",value:function(){var e=this;this.setState((function(e){return"metric"===e.unit?{unit:"imperial"}:"imperial"===e.unit?{unit:"metric"}:void 0}),(function(){return e.getWeather()}))}},{key:"geolocate",value:function(){var e=this;navigator.geolocation.getCurrentPosition((function(t){var a=t.coords.latitude,n=t.coords.longitude;fetch("".concat(S,"lat=").concat(a,"&lon=").concat(n,"&units=").concat(e.state.unit,"&appid=").concat(T)).then((function(e){return e.json()})).then((function(t){console.log(t);var a=t.name,n=t.sys.country,i=t.weather[0].main,r=t.main.temp,s=t.main.temp_max,c=t.main.temp_min,o=t.weather[0].icon,u=t.main.humidity,l=t.wind.speed,m=t.clouds.all,d=t.sys.sunrise,h=t.sys.sunset;e.setState({city:a,country:n,weatherDescription:i,currentTemp:r,maxTemp:s,minTemp:c,humidity:u,wind:l,clouds:m,sunrise:d,sunset:h,userInputCity:a,userInputCountry:n,icon:"http://openweathermap.org/img/wn/".concat(o,"@2x.png")},(function(){return e.convertDate()}))})).catch((function(e){return console.log(e)}))}))}},{key:"render",value:function(){var e=this;return void 0===this.state.city?i.a.createElement("div",{className:"App"},i.a.createElement(C,{geolocate:this.geolocate,metricToggle:this.metricToggle,getWeather:this.getWeather,userInputCountry:this.state.userInputCountry,userInputCity:this.state.userInputCity,handleCityChange:this.handleCityChange,handleCountryChange:this.handleCountryChange}),i.a.createElement(E,null)):i.a.createElement("div",{className:"App"},i.a.createElement(C,{geolocate:this.geolocate,metricToggle:this.metricToggle,getWeather:this.getWeather,userInputCountry:this.state.userInputCountry,userInputCity:this.state.userInputCity,handleCityChange:this.handleCityChange,handleCountryChange:this.handleCountryChange}),i.a.createElement("div",{className:"main-section"},i.a.createElement("div",{className:"saved-main"},this.state.displaySaved&&i.a.createElement("div",null,this.state.savedCities.map((function(t,a){return i.a.createElement(f,{city:e.state.city,useSaved:e.useSaved,removeSaved:e.removeSaved,key:t.key,name:t.name,country:t.country})})))),i.a.createElement("div",{className:"weather-main"},i.a.createElement(g,{currentDate:this.currentDate,city:this.state.city,country:this.state.country,weather:this.state.weatherDescription,currentTemp:this.state.currentTemp,maxTemp:this.state.maxTemp,minTemp:this.state.minTemp,unit:this.state.unit,icon:this.state.icon,displaySaved:this.displaySaved,humidity:this.state.humidity,wind:this.state.wind,clouds:this.state.clouds,sunrise:this.state.sunrise,sunset:this.state.sunset}))))}}]),t}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[13,1,2]]]);
//# sourceMappingURL=main.4fbffac4.chunk.js.map